(this["webpackJsonpmain-spa"]=this["webpackJsonpmain-spa"]||[]).push([[0],{24:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(27),i=n.n(o),a=(n(38),n(24),n(9)),s=n.p+"static/media/logo_triunfador.2f042067.jpg",l=(n(39),n(1)),d=function(){return Object(l.jsxs)("header",{className:"MainSpa-header",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:s,className:"logo",alt:"logo"}),Object(l.jsx)("h1",{children:Object(l.jsx)(a.b,{to:"/",children:"Main SPA"})})]}),Object(l.jsx)("nav",{children:Object(l.jsxs)("ol",{className:"center-column",children:[Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"/",children:"Home"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"/micro-x",children:"Micro App X"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"/micro-y",children:"Micro App Y"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"/about",children:"About"})})]})})]})},h=n(3),p=n.p+"static/media/triunfador.9629e99e.jpg",m=function(){return document.title="Main SPA | Home",Object(l.jsx)("div",{children:Object(l.jsxs)("header",{className:"Home-header",children:[Object(l.jsx)("a",{href:"https://open.spotify.com/album/26vh26M3hPs7BMelYSQ6iH?si=p0WL7xmcRMyHs_bswRhp9Q&dl_branch=1",target:"_blank",rel:"noopener noreferrer",children:Object(l.jsx)("img",{src:p,className:"Home-logo",alt:"logo"})}),Object(l.jsx)("p",{children:"Main SPA (Single Page Application) is a Lightweight Container Application for Micro-Frontends."}),Object(l.jsx)("a",{className:"App-link",href:"https://martinfowler.com/articles/micro-frontends.html",target:"_blank",rel:"noopener noreferrer",children:"Learn Micro-Frontends Concepts!"})]})})},j=function(){return document.title="Main SPA | About",Object(l.jsx)("main",{className:"About-main",children:Object(l.jsxs)("div",{className:"About-container",children:[Object(l.jsx)("h2",{children:"About this site"}),Object(l.jsxs)("p",{children:["Main SPA was created by"," ",Object(l.jsx)("a",{className:"App-link",href:"https://www.linkedin.com/in/gabrielcerutti/",children:"Gabriel Cerutti"})," ","to demonstrate just one way that micro frontends can be implemented. Inspired by"," ",Object(l.jsx)("a",{className:"App-link",href:"https://twitter.com/thecamjackson",children:"Cam Jackson"})," ","demo, check out the"," ",Object(l.jsx)("a",{className:"App-link",href:"https://martinfowler.com/articles/micro-frontends.html",children:"long-form article that Cam wrote for martinfowler.com"}),"."]}),Object(l.jsx)("p",{children:"Micro frontends is an architectural style where independently deliverable frontend applications are composed into a greater whole. It's useful for breaking up monolithic frontend codebases into smaller, simpler applications that can be delivered to production by multiple teams independently."}),Object(l.jsxs)("p",{children:["If you just want to read the source code for yourself, it's all available on Github at",Object(l.jsxs)("ul",{className:"About-list",children:[Object(l.jsx)("li",{children:Object(l.jsx)("a",{className:"App-link",href:"https://github.com/gabrielcerutti/main-spa",children:"https://github.com/gabrielcerutti/main-spa"})}),Object(l.jsx)("li",{children:Object(l.jsx)("a",{className:"App-link",href:"https://github.com/gabrielcerutti/micro-frontend-x",children:"https://github.com/gabrielcerutti/micro-frontend-x"})}),Object(l.jsx)("li",{children:Object(l.jsx)("a",{className:"App-link",href:"https://github.com/gabrielcerutti/micro-frontend-y",children:"https://github.com/gabrielcerutti/micro-frontend-y"})})]})]}),Object(l.jsxs)("p",{children:["Also, check out the CRA microfrontend-typescript template, it's available on npm registry at"," ",Object(l.jsx)("a",{className:"App-link",href:"https://www.npmjs.com/package/cra-template-microfrontend-typescript",children:"https://www.npmjs.com/package/cra-template-microfrontend-typescript"}),"."]})]})})},b=n(8),u=n(28),f=n(29),O=n(32),g=n(31),x=n(59),v=n(61),y=n(64),w=n(22);function M(e){var t=new URL(e),n=""!==t.port?":"+t.port:"";return"".concat(t.protocol,"//").concat(t.hostname).concat(n)}var k=Object(y.a)((function(){return{loading:{margin:"0",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},loadingIndicator:{color:"#282c34"},error:{margin:"0",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),A=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).renderMicroFrontend=function(){r.setState(Object(b.a)(Object(b.a)({},r.state),{},{status:"done"}))},document.title="Main SPA | "+e.name,r.state={status:"loading"},r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.id,r=t.host,c=t.document,o=M(r);console.log("Host is ".concat(o));var i="micro-frontend-script-".concat(n);if(this.setState(Object(b.a)({},this.state)),c.getElementById(i))this.renderMicroFrontend();else if("not-optimized"===this.props.loadType)fetch("".concat(r,"/asset-manifest.json")).then((function(e){return e.json()})).then((function(t){var n=c.createElement("script");if(n.id=i,n.crossOrigin="",n.src="".concat(o).concat(t.files["main.js"]),n.onload=e.renderMicroFrontend,c.head.appendChild(n),void 0!==t.files["main.css"]){var r=c.createElement("link");r.rel="stylesheet",r.href="".concat(o).concat(t.files["main.css"]),c.head.appendChild(r)}})).catch((function(t){console.error("Error loading micro-frontend ".concat(n," - ").concat(t.message)),e.setState(Object(b.a)(Object(b.a)({},e.state),{},{status:"error"}))}));else if("optimized"===this.props.loadType)fetch("".concat(r,"/asset-manifest.json")).then((function(e){return e.json()})).then((function(t){var n=-1;Object.keys(t.files).filter((function(e){return e.endsWith(".js")})).forEach((function(r,a,s){n<0&&(n=s.length);var l="".concat(o).concat(t.files[r]),d=c.createElement("script");"main.js"===r&&(d.id=i),d.onload=function(){0===--n&&e.renderMicroFrontend()},d.src=l,c.head.appendChild(d)}))})).catch((function(t){console.error("Error loading micro-frontend ".concat(n," - ").concat(t.message)),e.setState(Object(b.a)(Object(b.a)({},e.state),{},{status:"error"}))}));else{if("bundle"!==this.props.loadType)throw new Error("You must define a loadType.");var a=c.createElement("script");a.id=i,a.src=r,c.body.appendChild(a),a.onload=this.renderMicroFrontend}}},{key:"componentDidUpdate",value:function(){if("done"===this.state.status){var e=this.props,t=e.microId,n=e.window,r=e.history,c=e.basePath,o=M(e.host);console.log("Host is ".concat(o)),"regular"===this.props.buildMode?n["render".concat(t)]("".concat(t,"-container"),r,{basePath:c,host:o}):n[t].render("".concat(t,"-container"),r,{basePath:c,host:o})}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.microId,n=e.window,r="micro-frontend-script-".concat(t),c=document.getElementById(r);c&&c.removeEventListener("load",this.renderMicroFrontend),"regular"===this.props.buildMode?n["unmount".concat(t)]&&n["unmount".concat(t)]("".concat(t,"-container")):n[t]&&n[t].unMount("".concat(t,"-container"))}},{key:"shouldComponentUpdate",value:function(e,t){return t.status!==this.state.status}},{key:"render",value:function(){var e=this.props.classes;return"loading"===this.state.status?Object(l.jsx)("div",{className:e.loading,children:Object(l.jsx)(x.a,{className:e.loadingIndicator})}):"done"===this.state.status?Object(l.jsx)("div",{id:"".concat(this.props.microId,"-container")}):"error"===this.state.status?Object(l.jsx)("div",{className:e.error,children:Object(l.jsx)(v.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Oops! An error occurred loading the micro-app, please refresh the page."})}):Object(l.jsx)("div",{className:e.error,children:Object(l.jsx)(v.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Oops!An unexpected error occurred, please try refreshing the page."})})}}]),n}(c.a.Component);A.defaultProps={document:document,window:window,buildMode:"library"};var N,P,S=Object(w.a)(k)(A),C=null!==(N="https://gabrielcerutti.github.io/micro-frontend-x")?N:"",F=null!==(P="https://gabrielcerutti.github.io/micro-frontend-y")?P:"",I=function(){return Object(l.jsx)(S,{id:1,name:"Micro-Frontend X",microId:"MicroAppX",host:C,basePath:"/micro-x",loadType:"not-optimized",buildMode:"library"})},E=function(){return Object(l.jsx)(S,{id:2,name:"Micro-Frontend Y",microId:"MicroAppY",host:F,basePath:"/micro-y",loadType:"not-optimized",buildMode:"library"})},H=n(11),L=n(62),T=Object(L.a)((function(e){var t;return{content:(t={minWidth:0,width:"100%",display:"block"},Object(H.a)(t,e.breakpoints.up("sm"),Object(b.a)({overflowY:"auto",overflowX:"hidden",maxHeight:"calc(100vh - 100px)"},e.mixins.scrollbar)),Object(H.a)(t,"transition",e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})),Object(H.a)(t,"-webkit-overflow-scrolling","touch"),t)}})),B=function(e){var t=e.children;console.log("Workspace rendering...");var n=T();return Object(l.jsx)("main",{id:"main-spa-container",className:n.content,children:t})},Y=n(66),R=n(63),U=Object(Y.a)({disableGlobal:!1,productionPrefix:"mainspa",seed:"mainspa"});var W=function(){return console.log("Environment is ".concat("production")),console.log("Public URL is ".concat("/main-spa")),Object(l.jsx)("div",{className:"Main-Spa",children:Object(l.jsx)(a.a,{children:Object(l.jsxs)(R.b,{generateClassName:U,children:[Object(l.jsx)(d,{}),Object(l.jsx)(B,{children:Object(l.jsxs)(h.c,{basename:"/",children:[Object(l.jsx)(h.a,{path:"/about",element:Object(l.jsx)(j,{})}),Object(l.jsx)(h.a,{path:"/micro-x",element:Object(l.jsx)(I,{})}),Object(l.jsx)(h.a,{path:"/micro-y",element:Object(l.jsx)(E,{})}),Object(l.jsx)(h.a,{path:"/*",element:Object(l.jsx)(m,{})})]})})]})})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),o(e),i(e)}))};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(W,{})}),document.getElementById("root")),_()}},[[45,1,2]]]);
//# sourceMappingURL=main.e7be9c67.chunk.js.map