{"version":3,"sources":["components/logo_triunfador.jpg","components/AppHeader.tsx","assets/images/triunfador.jpg","pages/Home.tsx","pages/About.tsx","components/MicroFrontend.jsx","Microfrontends.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["AppHeader","className","src","logo","alt","to","Home","document","title","href","target","rel","triunfador","About","parseHost","host","url","URL","port","protocol","hostname","styles","createStyles","loading","margin","position","top","left","transform","loadingIndicator","color","error","MicroFrontend","props","renderMicroFrontend","setState","state","status","name","this","id","baseHost","console","log","scriptId","getElementById","loadType","fetch","then","res","json","manifest","script","createElement","crossOrigin","files","onload","head","appendChild","style","catch","message","chunkCount","Object","keys","filter","key","endsWith","forEach","_","arr","length","path","Error","body","microId","window","history","basePath","buildMode","render","existingScript","removeEventListener","unMount","nextProps","nextState","classes","CircularProgress","Typography","variant","display","gutterBottom","React","Component","defaultProps","withStyles","microxHost","process","microyHost","MicroX","MicroY","App","basename","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.56f32836.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_triunfador.2f042067.jpg\";","import { NavLink } from 'react-router-dom';\r\nimport logo from './logo_triunfador.jpg';\r\nimport './AppHeader.css';\r\n\r\nconst AppHeader = () => (\r\n  <header className=\"MainSpa-header\">\r\n    <div>\r\n      <img src={logo} className=\"logo\" alt=\"logo\" />\r\n      <h1>Main SPA</h1>\r\n    </div>\r\n    <nav>\r\n      <ol className=\"center-column\">\r\n        <li>\r\n          <NavLink to=\"/main-spa\">Home</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/main-spa/micro-x\">Micro App X</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/main-spa/micro-y\">Micro App Y</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/main-spa/about\">About</NavLink>\r\n        </li>\r\n      </ol>\r\n    </nav>\r\n  </header>\r\n);\r\n\r\nexport default AppHeader;\r\n","export default __webpack_public_path__ + \"static/media/triunfador.9629e99e.jpg\";","// import logo from '../logo.svg';\r\nimport triunfador from '../assets/images/triunfador.jpg';\r\nimport '../App.css';\r\n\r\nconst Home = () => {\r\n  document.title = 'Main SPA | Home';\r\n  return (\r\n    <div>\r\n      <header className=\"Home-header\">\r\n        <a\r\n          href=\"https://open.spotify.com/album/26vh26M3hPs7BMelYSQ6iH?si=p0WL7xmcRMyHs_bswRhp9Q&dl_branch=1\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          <img src={triunfador} className=\"Home-logo\" alt=\"logo\" />\r\n        </a>\r\n        <p>\r\n          Edit <code>src/pages/Home.tsx</code> and save to reload.\r\n        </p>\r\n        <a\r\n          className=\"App-link\"\r\n          href=\"https://reactjs.org\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          Learn React\r\n        </a>\r\n        <a\r\n          className=\"App-link\"\r\n          href=\"https://martinfowler.com/articles/micro-frontends.html\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          ...and Micro-Frontends Concepts!\r\n        </a>\r\n      </header>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import '../App.css';\r\n\r\nconst About = () => {\r\n  document.title = 'Main SPA | About';\r\n  return (\r\n    <main className=\"About-main\">\r\n      <div className=\"About-container\">\r\n        <h2>About this site</h2>\r\n        <p>\r\n          Main SPA was created by{' '}\r\n          <a className=\"App-link\" href=\"https://www.linkedin.com/in/gabrielcerutti/\">\r\n            Gabriel Cerutti\r\n          </a>{' '}\r\n          to demonstrate just one way that micro frontends can be implemented. Inspired by{' '}\r\n          <a className=\"App-link\" href=\"https://twitter.com/thecamjackson\">\r\n            Cam Jackson\r\n          </a>{' '}\r\n          demo, check out the{' '}\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://martinfowler.com/articles/micro-frontends.html\"\r\n          >\r\n            long-form article that Cam wrote for martinfowler.com\r\n          </a>\r\n          .\r\n        </p>\r\n        <p>\r\n          Micro frontends is an architectural style where independently deliverable\r\n          frontend applications are composed into a greater whole. It&apos;s useful for\r\n          breaking up monolithic frontend codebases into smaller, simpler applications\r\n          that can be delivered to production by multiple teams independently.\r\n        </p>\r\n        <p>\r\n          If you just want to read the source code for yourself, it&apos;s all available\r\n          on Github at{' '}\r\n          <a className=\"App-link\" href=\"https://github.com/gabrielcerutti/main-spa\">\r\n            https://github.com/gabrielcerutti/main-spa\r\n          </a>\r\n          ,{' '}\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://github.com/gabrielcerutti/micro-frontend-x\"\r\n          >\r\n            https://github.com/gabrielcerutti/micro-frontend-x\r\n          </a>\r\n          ,{' '}\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://github.com/gabrielcerutti/micro-frontend-y\"\r\n          >\r\n            https://github.com/gabrielcerutti/micro-frontend-y\r\n          </a>\r\n          .\r\n        </p>\r\n        <p>\r\n          Also, check out the CRA microfrontend-typescript template, it&apos;s available\r\n          on npm registry at{' '}\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://www.npmjs.com/package/cra-template-microfrontend-typescript\"\r\n          >\r\n            https://www.npmjs.com/package/cra-template-microfrontend-typescript\r\n          </a>\r\n          .\r\n        </p>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { createStyles, withStyles } from '@material-ui/core/styles';\r\n\r\nfunction parseHost(host) {\r\n  let url = new URL(host);\r\n  let port = url.port !== '' ? ':' + url.port : '';\r\n  return `${url.protocol}//${url.hostname}${port}`;\r\n}\r\n\r\nconst styles = createStyles(() => ({\r\n  loading: {\r\n    margin: '0',\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n  },\r\n  loadingIndicator: {\r\n    color: '#282c34',\r\n  },\r\n  error: {\r\n    margin: '0',\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n  },\r\n}));\r\n\r\nclass MicroFrontend extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    document.title = 'Main SPA | ' + props.name;\r\n    this.state = {\r\n      status: 'loading',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id, host, document } = this.props;\r\n    let baseHost = parseHost(host);\r\n    console.log(`Host is ${baseHost}`);\r\n\r\n    const scriptId = `micro-frontend-script-${id}`;\r\n\r\n    this.setState({\r\n      ...this.state,\r\n    });\r\n\r\n    const existingScript = document.getElementById(scriptId);\r\n    if (existingScript) {\r\n      this.renderMicroFrontend();\r\n      return;\r\n    }\r\n\r\n    if (this.props.loadType === 'not-optimized') {\r\n      // This is a regular React build but in one file (without code splitting)\r\n      fetch(`${host}/asset-manifest.json`)\r\n        .then((res) => res.json())\r\n        .then((manifest) => {\r\n          const script = document.createElement('script');\r\n          script.id = scriptId;\r\n          script.crossOrigin = '';\r\n          script.src = `${baseHost}${manifest.files['main.js']}`;\r\n          script.onload = this.renderMicroFrontend;\r\n          document.head.appendChild(script);\r\n          const style = document.createElement('link');\r\n          style.rel = 'stylesheet';\r\n          style.href = `${baseHost}${manifest.files['main.css']}`;\r\n          document.head.appendChild(style);\r\n        })\r\n        .catch((error) => {\r\n          console.error(`Error loading micro-frontend ${id} - ${error.message}`);\r\n          this.setState({\r\n            ...this.state,\r\n            status: 'error',\r\n          });\r\n        });\r\n    } else if (this.props.loadType === 'optimized') {\r\n      // This is a regular React build using code splitting\r\n      fetch(`${host}/asset-manifest.json`)\r\n        .then((res) => res.json())\r\n        .then((manifest) => {\r\n          let chunkCount = -1;\r\n          Object.keys(manifest['files'])\r\n            .filter((key) => key.endsWith('.js'))\r\n            .forEach((key, _, arr) => {\r\n              if (chunkCount < 0) {\r\n                chunkCount = arr.length;\r\n              }\r\n              const path = `${baseHost}${manifest['files'][key]}`;\r\n              const script = document.createElement('script');\r\n              if (key === 'main.js') {\r\n                script.id = scriptId;\r\n              }\r\n              script.onload = () => {\r\n                chunkCount--;\r\n                if (chunkCount === 0) {\r\n                  this.renderMicroFrontend();\r\n                }\r\n              };\r\n              script.src = path;\r\n              document.head.appendChild(script);\r\n            });\r\n        })\r\n        .catch((error) => {\r\n          console.error(`Error loading micro-frontend ${id} - ${error.message}`);\r\n          this.setState({ ...this.state, status: 'error' });\r\n        });\r\n    } else if (this.props.loadType === 'bundle') {\r\n      // This is just a bundle file (no manifest)\r\n      const script = document.createElement('script');\r\n\r\n      script.id = scriptId;\r\n      script.src = host;\r\n\r\n      document.body.appendChild(script);\r\n      script.onload = this.renderMicroFrontend;\r\n    } else {\r\n      throw new Error('You must define a loadType.');\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.status === 'done') {\r\n      const { microId, window, history, basePath, host } = this.props;\r\n      let baseHost = parseHost(host);\r\n      console.log(`Host is ${baseHost}`);\r\n\r\n      if (this.props.buildMode === 'regular') {\r\n        window[`render${microId}`](`${microId}-container`, history, {\r\n          basePath: basePath,\r\n          host: baseHost,\r\n        });\r\n      } else {\r\n        window[microId].render(`${microId}-container`, history, {\r\n          basePath: basePath,\r\n          host: baseHost,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { microId, window } = this.props;\r\n    const scriptId = `micro-frontend-script-${microId}`;\r\n    const existingScript = document.getElementById(scriptId);\r\n    if (existingScript) {\r\n      existingScript.removeEventListener('load', this.renderMicroFrontend);\r\n    }\r\n\r\n    if (this.props.buildMode === 'regular') {\r\n      if (window[`unmount${microId}`]) {\r\n        window[`unmount${microId}`](`${microId}-container`);\r\n      }\r\n    } else {\r\n      if (window[microId]) {\r\n        window[microId].unMount(`${microId}-container`);\r\n      }\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    // Only update if status change\r\n    return nextState.status !== this.state.status;\r\n  }\r\n\r\n  renderMicroFrontend = () => {\r\n    this.setState({ ...this.state, status: 'done' });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    let microModule;\r\n    if (this.state.status === 'loading') {\r\n      microModule = (\r\n        <div className={classes.loading}>\r\n          <CircularProgress className={classes.loadingIndicator}></CircularProgress>\r\n        </div>\r\n      );\r\n    } else if (this.state.status === 'done') {\r\n      microModule = <main id={`${this.props.microId}-container`} />;\r\n    } else if (this.state.status === 'error') {\r\n      microModule = (\r\n        <div className={classes.error}>\r\n          <Typography variant=\"overline\" display=\"block\" gutterBottom>\r\n            Oops! An error occurred loading the micro-app, please refresh the page.\r\n          </Typography>\r\n        </div>\r\n      );\r\n    } else {\r\n      microModule = (\r\n        <div className={classes.error}>\r\n          <Typography variant=\"overline\" display=\"block\" gutterBottom>\r\n            Oops!An unexpected error occurred, please try refreshing the page.\r\n          </Typography>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return microModule;\r\n  }\r\n}\r\n\r\nMicroFrontend.defaultProps = {\r\n  document,\r\n  window,\r\n  buildMode: 'library',\r\n};\r\n\r\nMicroFrontend.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  host: PropTypes.string.isRequired,\r\n  basePath: PropTypes.string.isRequired,\r\n  microId: PropTypes.string.isRequired,\r\n  document: PropTypes.object,\r\n  loadType: PropTypes.oneOf(['optimized', 'not-optimized', 'bundle']).isRequired,\r\n  buildMode: PropTypes.oneOf(['library', 'regular']),\r\n  window: PropTypes.object,\r\n  history: PropTypes.object,\r\n  classes: PropTypes.any,\r\n};\r\n\r\nexport default withStyles(styles)(MicroFrontend);\r\n","import MicroFrontend from './components/MicroFrontend';\r\n\r\nconst microxHost = process.env.REACT_APP_MICRO_X_HOST ?? '';\r\nconst microyHost = process.env.REACT_APP_MICRO_Y_HOST ?? '';\r\n\r\nexport const MicroX = () => {\r\n  return (\r\n    <MicroFrontend\r\n      id={1}\r\n      name=\"Micro-frontend A\"\r\n      microId=\"MicroAppX\"\r\n      host={microxHost}\r\n      basePath=\"main-spa/micro-x\"\r\n      loadType=\"not-optimized\"\r\n      buildMode=\"library\"\r\n    />\r\n  );\r\n};\r\n\r\nexport const MicroY = () => {\r\n  return (\r\n    <MicroFrontend\r\n      id={2}\r\n      name=\"Micro-frontend B\"\r\n      microId=\"MicroAppY\"\r\n      host={microyHost}\r\n      basePath=\"main-spa/micro-y\"\r\n      loadType=\"not-optimized\"\r\n      buildMode=\"library\"\r\n    />\r\n  );\r\n};\r\n","import './App.css';\nimport AppHeader from './components/AppHeader';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport { MicroX, MicroY } from './Microfrontends';\n\nfunction App() {\n  console.log(`Environment is ${process.env.NODE_ENV}`);\n  console.log(`Public URL is ${process.env.PUBLIC_URL}`);\n  const basename = process.env.PUBLIC_URL;\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <AppHeader />\n        <Routes basename={basename}>\n          <Route path=\"/about\" element={<About />} />\n          <Route path=\"/micro-x\" element={<MicroX />} />\n          <Route path=\"/micro-y\" element={<MicroY />} />\n          <Route path=\"/*\" element={<Home />} />\n        </Routes>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}