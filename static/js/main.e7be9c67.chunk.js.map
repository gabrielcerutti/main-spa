{"version":3,"sources":["components/Header/logo_triunfador.jpg","components/Header/AppHeader.tsx","assets/images/triunfador.jpg","pages/Home.tsx","pages/About.tsx","components/MicroFrontend/MicroFrontend.jsx","Microfrontends.tsx","components/MicroFrontend/Workspace.jsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["AppHeader","className","src","logo","alt","to","Home","document","title","href","target","rel","triunfador","About","parseHost","host","url","URL","port","protocol","hostname","styles","createStyles","loading","margin","position","top","left","transform","loadingIndicator","color","error","MicroFrontend","props","renderMicroFrontend","setState","state","status","name","this","id","baseHost","console","log","scriptId","getElementById","loadType","fetch","then","res","json","manifest","script","createElement","crossOrigin","files","onload","head","appendChild","undefined","style","catch","message","chunkCount","Object","keys","filter","key","endsWith","forEach","_","arr","length","path","Error","body","microId","window","history","basePath","buildMode","render","existingScript","removeEventListener","unMount","nextProps","nextState","classes","CircularProgress","Typography","variant","display","gutterBottom","React","Component","defaultProps","withStyles","microxHost","process","microyHost","MicroX","MicroY","useStyles","makeStyles","theme","content","minWidth","width","breakpoints","up","overflowY","overflowX","maxHeight","mixins","scrollbar","transitions","create","easing","sharp","duration","leavingScreen","Workspace","children","generateClassName","createGenerateClassName","disableGlobal","productionPrefix","seed","App","StylesProvider","basename","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.e7be9c67.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_triunfador.2f042067.jpg\";","import { NavLink } from 'react-router-dom';\r\nimport logo from './logo_triunfador.jpg';\r\nimport './AppHeader.scss';\r\n\r\nconst AppHeader = () => (\r\n  <header className=\"MainSpa-header\">\r\n    <div>\r\n      <img src={logo} className=\"logo\" alt=\"logo\" />\r\n      <h1>\r\n        <NavLink to=\"/\">Main SPA</NavLink>\r\n      </h1>\r\n    </div>\r\n    <nav>\r\n      <ol className=\"center-column\">\r\n        <li>\r\n          <NavLink to=\"/\">Home</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/micro-x\">Micro App X</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/micro-y\">Micro App Y</NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink to=\"/about\">About</NavLink>\r\n        </li>\r\n      </ol>\r\n    </nav>\r\n  </header>\r\n);\r\n\r\nexport default AppHeader;\r\n","export default __webpack_public_path__ + \"static/media/triunfador.9629e99e.jpg\";","import triunfador from '../assets/images/triunfador.jpg';\r\nimport '../App.scss';\r\n\r\nconst Home = () => {\r\n  document.title = 'Main SPA | Home';\r\n  return (\r\n    <div>\r\n      <header className=\"Home-header\">\r\n        <a\r\n          href=\"https://open.spotify.com/album/26vh26M3hPs7BMelYSQ6iH?si=p0WL7xmcRMyHs_bswRhp9Q&dl_branch=1\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          <img src={triunfador} className=\"Home-logo\" alt=\"logo\" />\r\n        </a>\r\n        <p>\r\n          Main SPA (Single Page Application) is a Lightweight Container Application for\r\n          Micro-Frontends.\r\n        </p>\r\n        <a\r\n          className=\"App-link\"\r\n          href=\"https://martinfowler.com/articles/micro-frontends.html\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          Learn Micro-Frontends Concepts!\r\n        </a>\r\n      </header>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import '../App.scss';\r\n\r\nconst About = () => {\r\n  document.title = 'Main SPA | About';\r\n  return (\r\n    <main className=\"About-main\">\r\n      <div className=\"About-container\">\r\n        <h2>About this site</h2>\r\n        <p>\r\n          Main SPA was created by{' '}\r\n          <a className=\"App-link\" href=\"https://www.linkedin.com/in/gabrielcerutti/\">\r\n            Gabriel Cerutti\r\n          </a>{' '}\r\n          to demonstrate just one way that micro frontends can be implemented. Inspired by{' '}\r\n          <a className=\"App-link\" href=\"https://twitter.com/thecamjackson\">\r\n            Cam Jackson\r\n          </a>{' '}\r\n          demo, check out the{' '}\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://martinfowler.com/articles/micro-frontends.html\"\r\n          >\r\n            long-form article that Cam wrote for martinfowler.com\r\n          </a>\r\n          .\r\n        </p>\r\n        <p>\r\n          Micro frontends is an architectural style where independently deliverable\r\n          frontend applications are composed into a greater whole. It&apos;s useful for\r\n          breaking up monolithic frontend codebases into smaller, simpler applications\r\n          that can be delivered to production by multiple teams independently.\r\n        </p>\r\n        <p>\r\n          If you just want to read the source code for yourself, it&apos;s all available\r\n          on Github at\r\n          <ul className=\"About-list\">\r\n            <li>\r\n              <a className=\"App-link\" href=\"https://github.com/gabrielcerutti/main-spa\">\r\n                https://github.com/gabrielcerutti/main-spa\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                className=\"App-link\"\r\n                href=\"https://github.com/gabrielcerutti/micro-frontend-x\"\r\n              >\r\n                https://github.com/gabrielcerutti/micro-frontend-x\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                className=\"App-link\"\r\n                href=\"https://github.com/gabrielcerutti/micro-frontend-y\"\r\n              >\r\n                https://github.com/gabrielcerutti/micro-frontend-y\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </p>\r\n        <p>\r\n          Also, check out the CRA microfrontend-typescript template, it&apos;s available\r\n          on npm registry at{' '}\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://www.npmjs.com/package/cra-template-microfrontend-typescript\"\r\n          >\r\n            https://www.npmjs.com/package/cra-template-microfrontend-typescript\r\n          </a>\r\n          .\r\n        </p>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { createStyles, withStyles } from '@material-ui/core/styles';\r\n\r\nfunction parseHost(host) {\r\n  let url = new URL(host);\r\n  let port = url.port !== '' ? ':' + url.port : '';\r\n  return `${url.protocol}//${url.hostname}${port}`;\r\n}\r\n\r\nconst styles = createStyles(() => ({\r\n  loading: {\r\n    margin: '0',\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n  },\r\n  loadingIndicator: {\r\n    color: '#282c34',\r\n  },\r\n  error: {\r\n    margin: '0',\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n  },\r\n}));\r\n\r\nclass MicroFrontend extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    document.title = 'Main SPA | ' + props.name;\r\n    this.state = {\r\n      status: 'loading',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id, host, document } = this.props;\r\n    let baseHost = parseHost(host);\r\n    console.log(`Host is ${baseHost}`);\r\n\r\n    const scriptId = `micro-frontend-script-${id}`;\r\n\r\n    this.setState({\r\n      ...this.state,\r\n    });\r\n\r\n    const existingScript = document.getElementById(scriptId);\r\n    if (existingScript) {\r\n      this.renderMicroFrontend();\r\n      return;\r\n    }\r\n\r\n    if (this.props.loadType === 'not-optimized') {\r\n      // This is a regular React build but in one file (without code splitting)\r\n      fetch(`${host}/asset-manifest.json`)\r\n        .then((res) => res.json())\r\n        .then((manifest) => {\r\n          const script = document.createElement('script');\r\n          script.id = scriptId;\r\n          script.crossOrigin = '';\r\n          script.src = `${baseHost}${manifest.files['main.js']}`;\r\n          script.onload = this.renderMicroFrontend;\r\n          document.head.appendChild(script);\r\n          const css = manifest.files['main.css'];\r\n          if (css !== undefined) {\r\n            const style = document.createElement('link');\r\n            style.rel = 'stylesheet';\r\n            style.href = `${baseHost}${manifest.files['main.css']}`;\r\n            document.head.appendChild(style);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(`Error loading micro-frontend ${id} - ${error.message}`);\r\n          this.setState({\r\n            ...this.state,\r\n            status: 'error',\r\n          });\r\n        });\r\n    } else if (this.props.loadType === 'optimized') {\r\n      // This is a regular React build using code splitting\r\n      fetch(`${host}/asset-manifest.json`)\r\n        .then((res) => res.json())\r\n        .then((manifest) => {\r\n          let chunkCount = -1;\r\n          Object.keys(manifest['files'])\r\n            .filter((key) => key.endsWith('.js'))\r\n            .forEach((key, _, arr) => {\r\n              if (chunkCount < 0) {\r\n                chunkCount = arr.length;\r\n              }\r\n              const path = `${baseHost}${manifest['files'][key]}`;\r\n              const script = document.createElement('script');\r\n              if (key === 'main.js') {\r\n                script.id = scriptId;\r\n              }\r\n              script.onload = () => {\r\n                chunkCount--;\r\n                if (chunkCount === 0) {\r\n                  this.renderMicroFrontend();\r\n                }\r\n              };\r\n              script.src = path;\r\n              document.head.appendChild(script);\r\n            });\r\n        })\r\n        .catch((error) => {\r\n          console.error(`Error loading micro-frontend ${id} - ${error.message}`);\r\n          this.setState({ ...this.state, status: 'error' });\r\n        });\r\n    } else if (this.props.loadType === 'bundle') {\r\n      // This is just a bundle file (no manifest)\r\n      const script = document.createElement('script');\r\n\r\n      script.id = scriptId;\r\n      script.src = host;\r\n\r\n      document.body.appendChild(script);\r\n      script.onload = this.renderMicroFrontend;\r\n    } else {\r\n      throw new Error('You must define a loadType.');\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.status === 'done') {\r\n      const { microId, window, history, basePath, host } = this.props;\r\n      let baseHost = parseHost(host);\r\n      console.log(`Host is ${baseHost}`);\r\n\r\n      if (this.props.buildMode === 'regular') {\r\n        window[`render${microId}`](`${microId}-container`, history, {\r\n          basePath: basePath,\r\n          host: baseHost,\r\n        });\r\n      } else {\r\n        window[microId].render(`${microId}-container`, history, {\r\n          basePath: basePath,\r\n          host: baseHost,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { microId, window } = this.props;\r\n    const scriptId = `micro-frontend-script-${microId}`;\r\n    const existingScript = document.getElementById(scriptId);\r\n    if (existingScript) {\r\n      existingScript.removeEventListener('load', this.renderMicroFrontend);\r\n    }\r\n\r\n    if (this.props.buildMode === 'regular') {\r\n      if (window[`unmount${microId}`]) {\r\n        window[`unmount${microId}`](`${microId}-container`);\r\n      }\r\n    } else {\r\n      if (window[microId]) {\r\n        window[microId].unMount(`${microId}-container`);\r\n      }\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    // Only update if status change\r\n    return nextState.status !== this.state.status;\r\n  }\r\n\r\n  renderMicroFrontend = () => {\r\n    this.setState({ ...this.state, status: 'done' });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    let microModule;\r\n    if (this.state.status === 'loading') {\r\n      microModule = (\r\n        <div className={classes.loading}>\r\n          <CircularProgress className={classes.loadingIndicator}></CircularProgress>\r\n        </div>\r\n      );\r\n    } else if (this.state.status === 'done') {\r\n      microModule = <div id={`${this.props.microId}-container`}></div>;\r\n    } else if (this.state.status === 'error') {\r\n      microModule = (\r\n        <div className={classes.error}>\r\n          <Typography variant=\"overline\" display=\"block\" gutterBottom>\r\n            Oops! An error occurred loading the micro-app, please refresh the page.\r\n          </Typography>\r\n        </div>\r\n      );\r\n    } else {\r\n      microModule = (\r\n        <div className={classes.error}>\r\n          <Typography variant=\"overline\" display=\"block\" gutterBottom>\r\n            Oops!An unexpected error occurred, please try refreshing the page.\r\n          </Typography>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return microModule;\r\n  }\r\n}\r\n\r\nMicroFrontend.defaultProps = {\r\n  document,\r\n  window,\r\n  buildMode: 'library',\r\n};\r\n\r\nMicroFrontend.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  host: PropTypes.string.isRequired,\r\n  basePath: PropTypes.string.isRequired,\r\n  microId: PropTypes.string.isRequired,\r\n  document: PropTypes.object,\r\n  loadType: PropTypes.oneOf(['optimized', 'not-optimized', 'bundle']).isRequired,\r\n  buildMode: PropTypes.oneOf(['library', 'regular']),\r\n  window: PropTypes.object,\r\n  history: PropTypes.object,\r\n  classes: PropTypes.any,\r\n};\r\n\r\nexport default withStyles(styles)(MicroFrontend);\r\n","import MicroFrontend from './components/MicroFrontend/MicroFrontend';\r\n\r\nconst microxHost = process.env.REACT_APP_MICRO_X_HOST ?? '';\r\nconst microyHost = process.env.REACT_APP_MICRO_Y_HOST ?? '';\r\n\r\nexport const MicroX = () => {\r\n  return (\r\n    <MicroFrontend\r\n      id={1}\r\n      name=\"Micro-Frontend X\"\r\n      microId=\"MicroAppX\"\r\n      host={microxHost}\r\n      basePath=\"/micro-x\"\r\n      loadType=\"not-optimized\"\r\n      buildMode=\"library\"\r\n    />\r\n  );\r\n};\r\n\r\nexport const MicroY = () => {\r\n  return (\r\n    <MicroFrontend\r\n      id={2}\r\n      name=\"Micro-Frontend Y\"\r\n      microId=\"MicroAppY\"\r\n      host={microyHost}\r\n      basePath=\"/micro-y\"\r\n      loadType=\"not-optimized\"\r\n      buildMode=\"library\"\r\n    />\r\n  );\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  content: {\r\n    minWidth: 0,\r\n    width: '100%',\r\n    display: 'block',\r\n    [theme.breakpoints.up('sm')]: {\r\n      overflowY: 'auto',\r\n      overflowX: 'hidden',\r\n      maxHeight: `calc(100vh - 100px)`,\r\n      ...theme.mixins.scrollbar,\r\n    },\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    '-webkit-overflow-scrolling': 'touch',\r\n  },\r\n}));\r\n\r\nconst Workspace = ({ children }) => {\r\n  console.log('Workspace rendering...');\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <main id=\"main-spa-container\" className={classes.content}>\r\n      {children}\r\n    </main>\r\n  );\r\n};\r\n\r\nWorkspace.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Workspace;\r\n","import './App.scss';\r\nimport AppHeader from './components/Header/AppHeader';\r\nimport { HashRouter, Routes, Route } from 'react-router-dom';\r\nimport Home from './pages/Home';\r\nimport About from './pages/About';\r\nimport { MicroX, MicroY } from './Microfrontends';\r\nimport Workspace from './components/MicroFrontend/Workspace';\r\nimport { StylesProvider, createGenerateClassName } from '@material-ui/core/styles';\r\n\r\n// CSS class name generation, we are using this in order to not collision names with the micro-frontends\r\nconst generateClassName = createGenerateClassName({\r\n  disableGlobal: false,\r\n  productionPrefix: 'mainspa',\r\n  seed: 'mainspa',\r\n});\r\n\r\nfunction App() {\r\n  console.log(`Environment is ${process.env.NODE_ENV}`);\r\n  console.log(`Public URL is ${process.env.PUBLIC_URL}`);\r\n  // const basename = process.env.PUBLIC_URL;\r\n  return (\r\n    <div className=\"Main-Spa\">\r\n      {/* HashRouter is used here in replacement of BrowserRouter because GitHub doesn't support browser history */}\r\n      <HashRouter>\r\n        <StylesProvider generateClassName={generateClassName}>\r\n          <AppHeader />\r\n          <Workspace>\r\n            <Routes basename={'/'}>\r\n              <Route path=\"/about\" element={<About />} />\r\n              <Route path=\"/micro-x\" element={<MicroX />} />\r\n              <Route path=\"/micro-y\" element={<MicroY />} />\r\n              <Route path=\"/*\" element={<Home />} />\r\n            </Routes>\r\n          </Workspace>\r\n        </StylesProvider>\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}