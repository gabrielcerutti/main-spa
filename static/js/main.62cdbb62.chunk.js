(this["webpackJsonpmain-spa"]=this["webpackJsonpmain-spa"]||[]).push([[0],{15:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(16),a=n.n(c),s=(n(28),n(15),n(8)),i=n.p+"static/media/logo.2e11fa3e.png",l=(n(29),n(2)),d=function(){return Object(l.jsxs)("header",{className:"MainSpa-header",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:i,className:"logo",alt:"logo"}),Object(l.jsx)("h1",{children:"Main SPA"})]}),Object(l.jsx)("nav",{children:Object(l.jsxs)("ol",{className:"center-column",children:[Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{to:"/",children:"Home"})}),Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{to:"/microa",children:"Micro App A"})}),Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{to:"/microb",children:"Micro App B"})}),Object(l.jsx)("li",{children:Object(l.jsx)(s.b,{to:"/about",children:"About"})})]})})]})},h=n(3),j=n.p+"static/media/logo.6ce24c58.svg",p=function(){return Object(l.jsx)("div",{children:Object(l.jsxs)("header",{className:"Home-header",children:[Object(l.jsx)("img",{src:"".concat(j),className:"App-logo",alt:"logo"}),Object(l.jsxs)("p",{children:["Edit ",Object(l.jsx)("code",{children:"src/pages/Home.tsx"})," and save to reload."]}),Object(l.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"}),Object(l.jsx)("a",{className:"App-link",href:"https://martinfowler.com/articles/micro-frontends.html",target:"_blank",rel:"noopener noreferrer",children:"...and Micro-Frontends Concepts!"})]})})},u=function(){return Object(l.jsx)("main",{className:"About-main",children:Object(l.jsxs)("div",{className:"About-container",children:[Object(l.jsx)("h2",{children:"About this site"}),Object(l.jsxs)("p",{children:["Main SPA was created by"," ",Object(l.jsx)("a",{className:"App-link",href:"https://www.linkedin.com/in/gabrielcerutti/",children:"Gabriel Cerutti"})," ","to demonstrate just one way that micro frontends can be implemented. Inspired by"," ",Object(l.jsx)("a",{className:"App-link",href:"https://twitter.com/thecamjackson",children:"Cam Jackson"})," ","demo, check out the"," ",Object(l.jsx)("a",{className:"App-link",href:"https://martinfowler.com/articles/micro-frontends.html",children:"long-form article that Cam wrote for martinfowler.com"}),"."]}),Object(l.jsx)("p",{children:"Micro frontends is an architectural style where independently deliverable frontend applications are composed into a greater whole. It's useful for breaking up monolithic frontend codebases into smaller, simpler applications that can be delivered to production by multiple teams independently."}),Object(l.jsxs)("p",{children:["If you just want to read the source code for yourself, it's all available on Github at"," ",Object(l.jsx)("a",{className:"App-link",href:"https://github.com/gabrielcerutti/main-spa",children:"https://github.com/gabrielcerutti/main-spa"}),"."]})]})})},m=n(7),b=n(17),f=n(18),O=n(21),x=n(20),g=n(49),v=n(50),y=n(51),w=n(13),M=Object(y.a)((function(){return{loading:{margin:"0",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},error:{margin:"0",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),k=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).renderMicroFrontend=function(){r.setState(Object(m.a)(Object(m.a)({},r.state),{},{status:"done"}))},document.title="Main SPA | "+e.name,r.state={status:"loading"},r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.id,r=t.host,o=t.document,c="micro-frontend-script-".concat(n);if(this.setState(Object(m.a)({},this.state)),o.getElementById(c))this.renderMicroFrontend();else if("not-optimized"===this.props.loadType)fetch("".concat(r,"/asset-manifest.json")).then((function(e){return e.json()})).then((function(t){var n=o.createElement("script");n.id=c,n.crossOrigin="",n.src="".concat(r).concat(t.files["main.js"]),n.onload=e.renderMicroFrontend,o.head.appendChild(n)})).catch((function(t){console.error("Error loading micro-frontend ".concat(n," - ").concat(t.message)),e.setState(Object(m.a)(Object(m.a)({},e.state),{},{status:"error"}))}));else if("optimized"===this.props.loadType)fetch("".concat(r,"/asset-manifest.json")).then((function(e){return e.json()})).then((function(t){var n=-1;Object.keys(t.files).filter((function(e){return e.endsWith(".js")})).forEach((function(a,s,i){n<0&&(n=i.length);var l="".concat(r).concat(t.files[a]),d=o.createElement("script");"main.js"===a&&(d.id=c),d.onload=function(){0===--n&&e.renderMicroFrontend()},d.src=l,o.head.appendChild(d)}))})).catch((function(t){console.error("Error loading micro-frontend ".concat(n," - ").concat(t.message)),e.setState(Object(m.a)(Object(m.a)({},e.state),{},{status:"error"}))}));else{if("bundle"!==this.props.loadType)throw new Error("You must define a loadType.");var a=o.createElement("script");a.id=c,a.src=r,o.body.appendChild(a),a.onload=this.renderMicroFrontend}}},{key:"componentDidUpdate",value:function(){if("done"===this.state.status){var e=this.props,t=e.microId,n=e.window,r=e.history,o=e.basePath,c=e.host;"regular"===this.props.buildMode?n["render".concat(t)]("".concat(t,"-container"),r,{basePath:o,host:c}):n[t].render("".concat(t,"-container"),r,{basePath:o,host:c})}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.microId,n=e.window,r="micro-frontend-script-".concat(t),o=document.getElementById(r);o&&o.removeEventListener("load",this.renderMicroFrontend),"regular"===this.props.buildMode?n["unmount".concat(t)]&&n["unmount".concat(t)]("".concat(t,"-container")):n[t]&&n[t].unMount("".concat(t,"-container"))}},{key:"shouldComponentUpdate",value:function(e,t){return t.status!==this.state.status}},{key:"render",value:function(){var e=this.props.classes;return"loading"===this.state.status?Object(l.jsx)("div",{className:e.loading,children:Object(l.jsx)(g.a,{})}):"done"===this.state.status?Object(l.jsx)("main",{id:"".concat(this.props.microId,"-container")}):"error"===this.state.status?Object(l.jsx)("div",{className:e.error,children:Object(l.jsx)(v.a,{variant:"overline",display:"block",gutterBottom:!0,children:"An error occurred loading the module, please refresh the page."})}):Object(l.jsx)("div",{className:e.error,children:Object(l.jsx)(v.a,{variant:"overline",display:"block",gutterBottom:!0,children:"An unexpected error occurred, please try refreshing the page."})})}}]),n}(o.a.Component);k.defaultProps={document:document,window:window,buildMode:"library"};var A,N,C=Object(w.a)(M)(k),E=null!==(A="http://localhost:4000")?A:"",I=null!==(N="http://localhost:4001")?N:"",P=function(){return Object(l.jsx)(C,{id:1,name:"Micro-frontend A",microId:"YourBrandNewMicrofrontend",host:E,basePath:"microa",loadType:"not-optimized",buildMode:"library"})},F=function(){return Object(l.jsx)(C,{id:1,name:"Micro-frontend A",microId:"YourBrandNewMicrofrontendB",host:I,basePath:"microa",loadType:"not-optimized",buildMode:"library"})};var B=function(){return console.log("Public URL is ".concat("/main-spa")),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(s.a,{children:[Object(l.jsx)(d,{}),Object(l.jsxs)(h.c,{basename:"/main-spa/main-spa",children:[Object(l.jsx)(h.a,{path:"/about",element:Object(l.jsx)(u,{})}),Object(l.jsx)(h.a,{path:"/microa",element:Object(l.jsx)(P,{})}),Object(l.jsx)(h.a,{path:"/microb",element:Object(l.jsx)(F,{})}),Object(l.jsx)(h.a,{path:"/*",element:Object(l.jsx)(p,{})})]})]})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),c(e),a(e)}))};a.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(B,{})}),document.getElementById("root")),S()}},[[35,1,2]]]);
//# sourceMappingURL=main.62cdbb62.chunk.js.map