(this["webpackJsonpmain-spa"]=this["webpackJsonpmain-spa"]||[]).push([[0],{17:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),r=n(25),i=n.n(r),a=(n(34),n(17),n(7)),s=n.p+"static/media/logo_triunfador.2f042067.jpg",l=(n(35),n(0)),d=function(){return Object(l.jsxs)("header",{className:"MainSpa-header",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:s,className:"logo",alt:"logo"}),Object(l.jsx)("h1",{children:Object(l.jsx)(a.b,{to:"/",children:"Main SPA"})})]}),Object(l.jsx)("nav",{children:Object(l.jsxs)("ol",{className:"center-column",children:[Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"/",children:"Home"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"/micro-x",children:"Micro App X"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"/micro-y",children:"Micro App Y"})}),Object(l.jsx)("li",{children:Object(l.jsx)(a.b,{to:"/about",children:"About"})})]})})]})},h=n(3),m=n.p+"static/media/triunfador.9629e99e.jpg",b=function(){return document.title="Main SPA | Home",Object(l.jsx)("div",{children:Object(l.jsxs)("header",{className:"Home-header",children:[Object(l.jsx)("img",{src:m,className:"Home-logo",alt:"logo"}),Object(l.jsx)("p",{children:"Main SPA (Single Page Application) is a Lightweight Container Application for Micro-Frontends."}),Object(l.jsx)("a",{className:"App-link",href:"https://martinfowler.com/articles/micro-frontends.html",target:"_blank",rel:"noopener noreferrer",children:"Learn Micro-Frontends Concepts!"})]})})},j=function(){return document.title="Main SPA | About",Object(l.jsx)("main",{className:"About-main",children:Object(l.jsxs)("div",{className:"About-container",children:[Object(l.jsx)("h2",{children:"About this site"}),Object(l.jsxs)("p",{children:["Main SPA was created by"," ",Object(l.jsx)("a",{className:"App-link",href:"https://www.linkedin.com/in/gabrielcerutti/",children:"Gabriel Cerutti"})," ","to demonstrate just one way that micro frontends can be implemented. Inspired by"," ",Object(l.jsx)("a",{className:"App-link",href:"https://twitter.com/thecamjackson",children:"Cam Jackson"})," ","demo, check out the"," ",Object(l.jsx)("a",{className:"App-link",href:"https://martinfowler.com/articles/micro-frontends.html",children:"long-form article that Cam wrote for martinfowler.com"}),"."]}),Object(l.jsx)("p",{children:"Micro frontends is an architectural style where independently deliverable frontend applications are composed into a greater whole. It's useful for breaking up monolithic frontend codebases into smaller, simpler applications that can be delivered to production by multiple teams independently."}),Object(l.jsxs)("div",{className:"About-p",children:["If you just want to read the source code for yourself, it's all available on Github at",Object(l.jsxs)("ul",{className:"About-list",children:[Object(l.jsx)("li",{children:Object(l.jsx)("a",{className:"App-link",href:"https://github.com/gabrielcerutti/main-spa",children:"https://github.com/gabrielcerutti/main-spa"})}),Object(l.jsx)("li",{children:Object(l.jsx)("a",{className:"App-link",href:"https://github.com/gabrielcerutti/micro-frontend-x",children:"https://github.com/gabrielcerutti/micro-frontend-x"})}),Object(l.jsx)("li",{children:Object(l.jsx)("a",{className:"App-link",href:"https://github.com/gabrielcerutti/micro-frontend-y",children:"https://github.com/gabrielcerutti/micro-frontend-y"})})]})]}),Object(l.jsxs)("p",{children:["Also, check out the CRA microfrontend-typescript template, it's available on npm registry at"," ",Object(l.jsx)("a",{className:"App-link",href:"https://www.npmjs.com/package/cra-template-microfrontend-typescript",children:"https://www.npmjs.com/package/cra-template-microfrontend-typescript"}),"."]}),Object(l.jsx)("p",{children:"Reach out to me for any question, I will be glad to help you out :)"})]})})},u=n(27),p=n(57),f=n(58),g=n(55),O=Object(g.a)((function(){return{loading:{margin:"0",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},loadingIndicator:{color:"#282c34"},error:{margin:"0",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),x=function(e){var t=e.id,n=e.microId,o=e.name,r=e.host,i=e.loadType,a=e.buildMode,s=e.basePath,d=e.history;console.log("MicroFrontend rendering..."),document.title="Main SPA | "+o;var h,m=O(),b=Object(c.useState)("loading"),j=Object(u.a)(b,2),g=j[0],x=j[1],w=function(e){var t=new URL(e),n=""!==t.port?":"+t.port:"";return"".concat(t.protocol,"//").concat(t.hostname).concat(n)};return Object(c.useEffect)((function(){"done"===g&&function(){var e=w(r);console.log("Host is ".concat(e)),"regular"===a?window["render".concat(n)]("".concat(n,"-container"),{basePath:s,host:e,history:d}):window[n].render("".concat(n,"-container"),{basePath:s,host:e,history:d})}()}),[g]),Object(c.useEffect)((function(){var e=w(r);console.log("Host is ".concat(e));var c="micro-frontend-script-".concat(t);if(!document.getElementById(c)){if("not-optimized"===i)fetch("".concat(r,"/asset-manifest.json")).then((function(e){return e.json()})).then((function(t){var n=document.createElement("script");if(n.id=c,n.crossOrigin="",n.src="".concat(e).concat(t.files["main.js"]),n.onload=function(){x("done")},document.head.appendChild(n),void 0!==t.files["main.css"]){var o=document.createElement("link");o.rel="stylesheet",o.href="".concat(e).concat(t.files["main.css"]),document.head.appendChild(o)}})).catch((function(e){console.error("Error loading micro-frontend ".concat(t," - ").concat(e.message)),x("error")}));else if("optimized"===i)fetch("".concat(r,"/asset-manifest.json")).then((function(e){return e.json()})).then((function(t){var n=-1;Object.keys(t.files).filter((function(e){return e.endsWith(".js")})).forEach((function(o,r,i){n<0&&(n=i.length);var a="".concat(e).concat(t.files[o]),s=document.createElement("script");"main.js"===o&&(s.id=c),s.onload=function(){0===--n&&x("done")},s.src=a,document.head.appendChild(s)}))})).catch((function(e){console.error("Error loading micro-frontend ".concat(t," - ").concat(e.message)),x("error")}));else{if("bundle"!==i)throw new Error("You must define a loadType.");var o=document.createElement("script");o.id=c,o.src=r,document.body.appendChild(o),o.onload=function(){x("done")}}return function(){var e="micro-frontend-script-".concat(n),t=document.getElementById(e);t&&t.removeEventListener("load"),"regular"===a?window["unmount".concat(n)]&&window["unmount".concat(n)]("".concat(n,"-container")):window[n]&&window[n].unMount("".concat(n,"-container"))}}x("done")}),[]),h="loading"===g?Object(l.jsx)("div",{className:m.loading,children:Object(l.jsx)(p.a,{className:m.loadingIndicator})}):"done"===g?Object(l.jsx)("div",{id:"".concat(n,"-container")}):"error"===g?Object(l.jsx)("div",{className:m.error,children:Object(l.jsx)(f.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Oops! An error occurred loading the micro-app, please refresh the page."})}):Object(l.jsx)("div",{className:m.error,children:Object(l.jsx)(f.a,{variant:"overline",display:"block",gutterBottom:!0,children:"Oops!An unexpected error occurred, please try refreshing the page."})}),Object(l.jsx)(l.Fragment,{children:h})};x.defaultProps={document:document,window:window,loadType:"not-optimized",buildMode:"library"};var w,v,y=x,k=null!==(w="https://gabrielcerutti.github.io/micro-frontend-x")?w:"",A=null!==(v="https://gabrielcerutti.github.io/micro-frontend-y")?v:"",N=function(){return Object(l.jsx)(y,{id:1,name:"Micro-Frontend X",microId:"MicroAppX",host:k,basePath:"/micro-x",loadType:"not-optimized",buildMode:"library"})},M=function(){return Object(l.jsx)(y,{id:2,name:"Micro-Frontend Y",microId:"MicroAppY",host:A,basePath:"/micro-y",loadType:"optimized",buildMode:"regular"})},P=n(9),E=Object(g.a)((function(e){var t;return{content:(t={minWidth:0,width:"100%",display:"block"},Object(P.a)(t,e.breakpoints.up("sm"),{overflowY:"auto",overflowX:"hidden",maxHeight:"calc(100vh - 100px)","&::-webkit-scrollbar":{width:8,height:8},"&::-webkit-scrollbar-thumb":{background:"grey",border:"none"}}),Object(P.a)(t,"overflowY","auto"),Object(P.a)(t,"overflowX","hidden"),Object(P.a)(t,"maxHeight","calc(100vh - 100px)"),Object(P.a)(t,"&::-webkit-scrollbar",{width:8,height:8}),Object(P.a)(t,"&::-webkit-scrollbar-thumb",{background:"grey",border:"none"}),Object(P.a)(t,"transition",e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})),Object(P.a)(t,"-webkit-overflow-scrolling","touch"),t)}})),S=function(e){var t=e.children;console.log("Workspace rendering...");var n=E();return Object(l.jsx)("main",{id:"main-spa-container",className:n.content,children:t})},C=n(61),I=n(59),F=function(){return document.title="Main SPA | NotFound",Object(l.jsx)("main",{className:"Notfound-main",children:Object(l.jsxs)("div",{className:"Notfound-container",children:[Object(l.jsx)("h2",{children:"Oops! Sorry, Page Not Found"}),Object(l.jsxs)("h3",{children:["You should probably go back to"," ",Object(l.jsx)(a.b,{className:"App-link",to:"/",children:"Home"})]})]})})},H=Object(C.a)({disableGlobal:!1,productionPrefix:"mainspa",seed:"mainspa"});var L=function(){return console.log("Environment is ".concat("production")),console.log("Public URL is ".concat("/main-spa")),Object(l.jsx)("div",{className:"Main-Spa",children:Object(l.jsx)(a.a,{children:Object(l.jsxs)(I.b,{generateClassName:H,children:[Object(l.jsx)(d,{}),Object(l.jsx)(S,{children:Object(l.jsxs)(h.c,{basename:"/",children:[Object(l.jsx)(h.a,{path:"/about",element:Object(l.jsx)(j,{})}),Object(l.jsx)(h.a,{path:"/micro-x/*",element:Object(l.jsx)(N,{})}),Object(l.jsx)(h.a,{path:"/micro-y/*",element:Object(l.jsx)(M,{})}),Object(l.jsx)(h.a,{path:"/",element:Object(l.jsx)(b,{})}),Object(l.jsx)(h.a,{path:"/*",element:Object(l.jsx)(F,{})})]})})]})})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),r(e),i(e)}))};i.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(L,{})}),document.getElementById("root")),T()}},[[41,1,2]]]);
//# sourceMappingURL=main.edf86b7a.chunk.js.map